#!/bin/bash

echo "๐ ุดุฑูุน ุจุฑูุฒุฑุณุงู ูุฎุฒู GitHub..."

# ุจุฑุฑุณ ูุถุนุช ูุนู
git status

# ุงุถุงูู ฺฉุฑุฏู ุชูุงู ุชุบุฑุงุช
git add .

# ฺฉุงูุช ุชุบุฑุงุช
git commit -m "๐ Auto-deploy: $(date +'%Y-%m-%d %H:%M:%S')

- ุจุฑูุฒุฑุณุงู ุชูุงู ูพุฑูฺูโูุง
- ุจูููโุณุงุฒ ฺฉุฏูุง
- ุขูุงุฏูโุณุงุฒ ุจุฑุง ุฏูพูู

ุชุบุฑุงุช ุดุงูู:
โข ุจูููโุณุงุฒ ุนููฺฉุฑุฏ
โข ุฑูุน ุจุงฺฏโูุง
โข ุขูพุฏุช dependencies
โข ุจูุจูุฏ ูุณุชูุฏุงุช"

# ูพูุด ุจู GitHub
echo "๐ค ุฏุฑ ุญุงู ุขูพููุฏ ุจู GitHub..."
git push origin main

if [ $? -eq 0 ]; then
    echo "โ ุจุฑูุฒุฑุณุงู GitHub ุจุง ููููุช ุงูุฌุงู ุดุฏ"
else
    echo "โ ุฎุทุง ุฏุฑ ุขูพููุฏ ุจู GitHub"
    echo "๐ ุชูุงุด ูุฌุฏุฏ ุจุง force..."
    git push -u origin main --force
fi

echo "๐ ูุฑุขูุฏ ุจุฑูุฒุฑุณุงู ฺฉุงูู ุดุฏ!"
